<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="openSesame">Open File</button>
    <div id="pspdfkit" style="width: 100%; height: 90vh;"></div>



    <script src="assets/pspdfkit.js"></script>
    <script>
        let fileHandle;
        const fr = new FileReader();
        const openSesame = document.getElementById('openSesame');
        openSesame.addEventListener('click', async () => {
            // Destructure the one-element array.
            [fileHandle] = await window.showOpenFilePicker();
            const file = await fileHandle.getFile();
            const url = URL.createObjectURL(file);
            PSPDFKit.unload("#pspdfkit")
            PSPDFKit.load({
            container: "#pspdfkit",
            document: url,
        })
            .then(function (instance) {
                console.log("PSPDFKit loaded", instance);
            })
            .catch(function (error) {
                console.error(error.message);
            });
        });
        
    </script>

</body>

</html>